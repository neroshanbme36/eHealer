<ion-header>
  <ion-toolbar  class="back-color">
    <ion-buttons>
      <ion-button class="back" fill="clear" (click)="back()" slot="start">
        <ion-icon style="color: white;" name="arrow-back" ></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons  slot="end">
      <ion-button slot="end" style="color: white;">
        <ion-text style="color: white;">Client Appoinments</ion-text>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<!-- <ion-list>
  <ion-item (click)="onClientAppointmentBtnClicked(apt.id)"
  *ngFor="let apt of appointmentUserDtos">
    <ion-label>{{apt.id}}</ion-label>
  </ion-item>
</ion-list> -->

<ion-searchbar placeholder="Client Name" name="searchClientName" id="searchClientName"
  [(ngModel)]="searchClientName">
</ion-searchbar>

<ion-content >
  <ion-row>
    <ion-col size="12" class="ion-text-center">
      <ion-list>
        <ion-item-sliding *ngFor="let apt of filteredAppointments">
          <ion-item  (click)="onClientAppointmentBtnClicked(apt.id)">
            <ion-thumbnail slot="start">
              <ion-img [src]="imgUrl + getImg(apt.client.gender)"></ion-img>
            </ion-thumbnail>
            <ion-label>
              <h3 style="font-weight: bold;">{{apt.client.firstName + ' ' + apt.client.lastName}}</h3>         
              <h4>{{apt.slotStartTime  | date:'MMM dd, yyyy'}}</h4>
              <h4>{{apt.slotStartTime  | date:'HH:mm:ss'}}-{{apt.slotEndTime  | date:'HH:mm:ss'}}</h4>
              <h4>
                <!-- <span> -->
                  <ion-badge [color]="apt.statusType==0 ? 'warning': apt.statusType==1 || apt.statusType==2? 'success':'danger'">
                    <ion-icon [name]="apt.statusType==0 ? 'time': apt.statusType==1 || apt.statusType==2? 'checkmark-circle':'trash'"></ion-icon>
                    <ng-container>
                      {{apt.statusType==0?'waiting':apt.statusType==1?'accepted':apt.statusType==2?'completed':apt.statusType==3?'you cancelled':'client cancelled'}}
                    </ng-container>
                  </ion-badge>
                <!-- </span> -->
              </h4>
            </ion-label>
          </ion-item>
          <ion-item-options side="end">
            <ion-item-option color="secondary" style="margin-right: 5px;" 
              (click)="onChatWithClientBtnClicked(apt.client.username)">
              <ion-icon name="chatbubbles" ></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list>
    </ion-col>
  </ion-row>
</ion-content>
